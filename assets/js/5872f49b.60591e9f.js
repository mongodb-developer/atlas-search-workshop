"use strict";(self.webpackChunkatlas_search_workshop=self.webpackChunkatlas_search_workshop||[]).push([[467],{4137:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(a),m=r,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return a?n.createElement(h,o(o({ref:t},d),{},{components:a})):n.createElement(h,o({ref:t},d))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9160:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var n=a(7462),r=(a(7294),a(4137)),i=a(9524);const o={},l="1. \ud83d\uddc2\ufe0f Create Search Index",s={unversionedId:"end-to-end-lab/create-search-index",id:"end-to-end-lab/create-search-index",title:"1. \ud83d\uddc2\ufe0f Create Search Index",description:"MongoDB's Atlas Search is a full-text search solution built on top of Apache Lucene.",source:"@site/docs/end-to-end-lab/1-create-search-index.mdx",sourceDirName:"end-to-end-lab",slug:"/end-to-end-lab/create-search-index",permalink:"/atlas-search-workshop/docs/end-to-end-lab/create-search-index",draft:!1,editUrl:"https://github.com/mongodb-developer/atlas-search-workshop/blob/main/docs/end-to-end-lab/1-create-search-index.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u2195\ufe0f End to End Lab Overview",permalink:"/atlas-search-workshop/docs/end-to-end-lab/overview"},next:{title:"2. \ud83d\udd0d $search",permalink:"/atlas-search-workshop/docs/end-to-end-lab/search"}},c={},d=[{value:"Step-by-step guide to creating your first Atlas Search index",id:"step-by-step-guide-to-creating-your-first-atlas-search-index",level:2}],p={toc:d},u="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"1-\ufe0f-create-search-index"},"1. \ud83d\uddc2\ufe0f Create Search Index"),(0,r.kt)("p",null,"MongoDB's Atlas Search is a full-text search solution built on top of ",(0,r.kt)("a",{parentName:"p",href:"https://lucene.apache.org/"},"Apache Lucene"),".\nAtlas Search allows fine-grained text indexing and querying of data persisted in your Atlas database."),(0,r.kt)("p",null,"To start using Atlas Search, you must configure a search index on your collection.\nAtlas Search indexes categorize data in an easily searchable format and enable\nfaster document retrieval a range of fuzzy to exact queries on a variety of data types."),(0,r.kt)("p",null,"You can create a search index right from the Atlas UI. "),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Atlas CLI offers command-line control and introspection of your Atlas Search indexes. "),(0,r.kt)("p",{parentName:"admonition"},"Additionally, Atlas CLI offers an easy to use Atlas Search ",(0,r.kt)("em",{parentName:"p"},"local development")," environment, so you can development\noffline (you lucky digital nomad, you!) and integrate Atlas Search backed tests into your CI/CD environments.")),(0,r.kt)("h2",{id:"step-by-step-guide-to-creating-your-first-atlas-search-index"},"Step-by-step guide to creating your first Atlas Search index"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"From the main cluster page, navigate to the ",(0,r.kt)("strong",{parentName:"p"},"Search")," tab."),(0,r.kt)("img",{alt:"The 'Database Deployments' page with the 'Create Index' link highlighted",src:(0,i.Z)("/img/end-to-end-lab/create-search-index-0.png")})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click the ",(0,r.kt)("strong",{parentName:"p"},"Create Search Index")," button."),(0,r.kt)("img",{alt:"The 'Search' section of the cluster details page with the 'Create Search Index' button highlighted",src:(0,i.Z)("/img/end-to-end-lab/create-search-index-1.png")})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The first step of building the search index is selecting the configuration method. You can choose from two options \u2014 using the ",(0,r.kt)("strong",{parentName:"p"},"Visual Editor")," or writing the configuration yourself with the ",(0,r.kt)("strong",{parentName:"p"},"JSON Editor"),". Let's stick to the default ",(0,r.kt)("strong",{parentName:"p"},"Visual Editor"),". To proceed, click ",(0,r.kt)("strong",{parentName:"p"},"Next"),"."),(0,r.kt)("img",{alt:"The 'Configuration Method' step of creating a new search index",src:(0,i.Z)("/img/end-to-end-lab/create-search-index-2.png")})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Next, you need to select a name and data source for your index. Leave the name as ",(0,r.kt)("strong",{parentName:"p"},"default")," and select the database ",(0,r.kt)("strong",{parentName:"p"},"library")," and the collection ",(0,r.kt)("strong",{parentName:"p"},"books"),"."),(0,r.kt)("img",{alt:"The 'Name & Data Source' step of creating a new search index",src:(0,i.Z)("/img/end-to-end-lab/create-search-index-3.png")})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The final step allows you to review the index configuration and refine it if needed. You may also see the JSON that was generated from your configuration by clicking ",(0,r.kt)("strong",{parentName:"p"},"View JSON"),"."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n    "mappings": {\n        "dynamic": true\n    }\n}\n')),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The index is using dynamic field mappings. We didn't configure any explicit (static) mappings between the\nfields in the documents and the search index. That's why Atlas created dynamic mappings that match the data\nin the documents to some common field types such as ",(0,r.kt)("inlineCode",{parentName:"p"},"double"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"array"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"int"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"double"),".\nDynamic mappings are useful when you're just getting started with Atlas Search or if your schema changes regularly.\nHowever, defining static mappings open up deeper capabilities and allow the ability to fine-tune what and how fields\nof your documents are indexed and, thereby, searcahble."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You don't need to refine this index. Go ahead and click ",(0,r.kt)("strong",{parentName:"p"},"Create Search Index"),"."),(0,r.kt)("img",{alt:"Index build in progress: robot cartoon splash",src:(0,i.Z)("/img/end-to-end-lab/create-search-index-4.png")})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You'll be redirected to a page showing all of the search indexes used in your Atlas project.\nCreating a full, or initial, index build could take a while.  Index build time will depend on a number of factors\nincluding:"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Tier of service for your cluster"),(0,r.kt)("li",{parentName:"ul"},"Number of documents in the collection"),(0,r.kt)("li",{parentName:"ul"},"Solar flares"),(0,r.kt)("li",{parentName:"ul"},"Size of the documents (lots of fields? one or more ",(0,r.kt)("em",{parentName:"li"},"large")," field values?)"),(0,r.kt)("li",{parentName:"ul"},"Index configuration (dynamic mapping? lots of field names used across collection? multi mapping a single field into differently indexed fields? nature of analyzers used?  ngrams?)")),(0,r.kt)("p",null,"That being said - for this lab data, it should take no more than 5 minutes (",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"TBD test this out!")),")"),(0,r.kt)("p",null,"After the full index is built, the e-mail contact for the cluster will receive an e-mail notification that the search index build\ncompleted."),(0,r.kt)("img",{alt:"Search index build complete e-mail",src:(0,i.Z)("/img/end-to-end-lab/create-search-index-5.png")}),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"When your search index reaches status ",(0,r.kt)("strong",{parentName:"p"},"Active"),", you'll be able to see more information about the index.\nFor example, the number of indexed documents, the field mappings and the index size.\nYou may notice that you're using 1 out of the 3 search indexes that come with your free M0 cluster; different tiers\nhave ",(0,r.kt)("a",{parentName:"p",href:"https://www.mongodb.com/docs/atlas/atlas-search/limitations/"},"different limitations"),".")),(0,r.kt)("img",{alt:"Active Search Index Status: Active",src:(0,i.Z)("/img/end-to-end-lab/create-search-index-6.png")}),(0,r.kt)("p",null,"\u2705 Is your ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," library.books collection index Active?"))}m.isMDXComponent=!0}}]);